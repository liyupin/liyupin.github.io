

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Cper Liu">
  <meta name="keywords" content="">
  
    <meta name="description" content="RESTful API接口设计标准及规范RESTful发展背景及简介网络应用程序，分为前端和后端两个部分。当前的发展趋势，就是前端设备层出不穷（手机、平板、桌面电脑、其他专用设备…）。因此，必须有一种统一的机制，方便不同的前端设备与后端进行通信。这导致API构架的流行，甚至出现”APIFirst”的设计思想。RESTful API是目前比较成熟的一套互联网应用程序的API设计理论。 REST（Re">
<meta property="og:type" content="article">
<meta property="og:title" content="RESTful API接口设计标准及规范">
<meta property="og:url" content="https://liyupin.github.io/2022/07/13/RESTful%20API%E6%8E%A5%E5%8F%A3%E8%AE%BE%E8%AE%A1%E6%A0%87%E5%87%86%E5%8F%8A%E8%A7%84%E8%8C%83/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="RESTful API接口设计标准及规范RESTful发展背景及简介网络应用程序，分为前端和后端两个部分。当前的发展趋势，就是前端设备层出不穷（手机、平板、桌面电脑、其他专用设备…）。因此，必须有一种统一的机制，方便不同的前端设备与后端进行通信。这导致API构架的流行，甚至出现”APIFirst”的设计思想。RESTful API是目前比较成熟的一套互联网应用程序的API设计理论。 REST（Re">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-07-13T06:34:16.290Z">
<meta property="article:modified_time" content="2022-07-08T03:53:49.057Z">
<meta property="article:author" content="Cper Liu">
<meta name="twitter:card" content="summary_large_image">
  
  
  
  <title>RESTful API接口设计标准及规范 - Hexo</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"liyupin.github.io","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>CPERLYP</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="RESTful API接口设计标准及规范"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-07-13 14:34" pubdate>
          2022年7月13日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          5.3k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          44 分钟
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">RESTful API接口设计标准及规范</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="RESTful-API接口设计标准及规范"><a href="#RESTful-API接口设计标准及规范" class="headerlink" title="RESTful API接口设计标准及规范"></a>RESTful API接口设计标准及规范</h1><p>RESTful发展背景及简介<br>网络应用程序，分为前端和后端两个部分。当前的发展趋势，就是前端设备层出不穷（手机、平板、桌面电脑、其他专用设备…）。因此，必须有一种统一的机制，方便不同的前端设备与后端进行通信。这导致API构架的流行，甚至出现”APIFirst”的设计思想。RESTful API是目前比较成熟的一套互联网应用程序的API设计理论。</p>
<p>REST（Representational State Transfer）表述性状态转换，REST指的是一组架构约束条件和原则。 如果一个架构符合REST的约束条件和原则，我们就称它为RESTful架构。REST本身并没有创造新的技术、组件或服务，而隐藏在RESTful背后的理念就是使用Web的现有特征和能力， 更好地使用现有Web标准中的一些准则和约束。虽然REST本身受Web技术的影响很深， 但是理论上REST架构风格并不是绑定在HTTP上，只不过目前HTTP是唯一与REST相关的实例。</p>
<ol>
<li>URI<br>URI 表示资源，资源一般对应服务器端领域模型中的实体类。</li>
</ol>
<p>URI规范<br>不用大写；<br>用中杠-不用下杠_；<br>参数列表要encode；<br>URI中的名词表示资源集合，使用复数形式。</p>
<p>资源集合 vs 单个资源<br>URI表示资源的两种方式：资源集合、单个资源。</p>
<p>资源集合：</p>
<p>&#x2F;zoos &#x2F;&#x2F;所有动物园<br>&#x2F;zoos&#x2F;1&#x2F;animals &#x2F;&#x2F;id为1的动物园中的所有动物<br>1<br>2<br>单个资源：</p>
<p>&#x2F;zoos&#x2F;1 &#x2F;&#x2F;id为1的动物园<br>&#x2F;zoos&#x2F;1;2;3 &#x2F;&#x2F;id为1，2，3的动物园<br>1<br>2<br>避免层级过深的URI<br>&#x2F;在url中表达层级，用于按实体关联关系进行对象导航，一般根据id导航。</p>
<p>过深的导航容易导致url膨胀，不易维护，如 GET &#x2F;zoos&#x2F;1&#x2F;areas&#x2F;3&#x2F;animals&#x2F;4，尽量使用查询参数代替路径中的实体导航，如GET &#x2F;animals?zoo&#x3D;1&amp;area&#x3D;3；</p>
<p>对Composite资源的访问<br>服务器端的组合实体必须在uri中通过父实体的id导航访问。</p>
<p>组合实体不是first-class的实体，它的生命周期完全依赖父实体，无法独立存在，在实现上通常是对数据库表中某些列的抽象，不直接对应表，也无id。一个常见的例子是 User — Address，Address是对User表中zipCode&#x2F;country&#x2F;city三个字段的简单抽象，无法独立于User存在。必须通过User索引到Address：GET &#x2F;user&#x2F;1&#x2F;addresses</p>
<ol start="2">
<li>Request<br>HTTP方法<br>通过标准HTTP方法对资源CRUD：</li>
</ol>
<p>GET：查询</p>
<p>GET &#x2F;zoos<br>GET &#x2F;zoos&#x2F;1<br>GET &#x2F;zoos&#x2F;1&#x2F;employees</p>
<p>POST：创建单个资源。POST一般向“资源集合”型uri发起</p>
<p>POST &#x2F;animals  &#x2F;&#x2F;新增动物<br>POST &#x2F;zoos&#x2F;1&#x2F;employees &#x2F;&#x2F;为id为1的动物园雇佣员工</p>
<p>PUT：更新单个资源（全量），客户端提供完整的更新后的资源。与之对应的是 PATCH，PATCH 负责部分更新，客户端提供要更新的那些字段。PUT&#x2F;PATCH一般向“单个资源”型uri发起</p>
<p>PUT &#x2F;animals&#x2F;1<br>PUT &#x2F;zoos&#x2F;1</p>
<p>DELETE：删除</p>
<p>DELETE &#x2F;zoos&#x2F;1&#x2F;employees&#x2F;2<br>DELETE &#x2F;zoos&#x2F;1&#x2F;employees&#x2F;2;4;5<br>DELETE &#x2F;zoos&#x2F;1&#x2F;animals  &#x2F;&#x2F;删除id为1的动物园内的所有动物</p>
<p>HEAD &#x2F; OPTION 用的不多，就不多解释了。</p>
<p>安全性和幂等性<br>安全性：不会改变资源状态，可以理解为只读的；<br>幂等性：执行1次和执行N次，对资源状态改变的效果是等价的。<br>.	安全性	幂等性<br>GET	√	√<br>POST	×	×<br>PUT	×	√<br>DELETE	×	√<br>安全性和幂等性均不保证反复请求能拿到相同的response。以 DELETE 为例，第一次DELETE返回200表示删除成功，第二次返回404提示资源不存在，这是允许的。</p>
<p>复杂查询<br>查询可以捎带以下参数：</p>
<p>.	示例	备注<br>过滤条件	?type&#x3D;1&amp;age&#x3D;16	允许一定的uri冗余，如&#x2F;zoos&#x2F;1与&#x2F;zoos?id&#x3D;1<br>排序	?sort&#x3D;age,desc	<br>投影	?whitelist&#x3D;id,name,email	<br>分页	?limit&#x3D;10&amp;offset&#x3D;3	<br>Bookmarker<br>经常使用的、复杂的查询标签化，降低维护成本。</p>
<p>如：</p>
<p>GET &#x2F;trades?status&#x3D;closed&amp;sort&#x3D;created,desc<br>快捷方式：</p>
<p>GET &#x2F;trades#recently-closed<br>或者<br>GET &#x2F;trades&#x2F;recently-closed</p>
<p>Format<br>只用以下常见的3种body format：</p>
<p>1.Content-Type: application&#x2F;json</p>
<p>POST &#x2F;v1&#x2F;animal HTTP&#x2F;1.1<br>Host: api.example.org<br>Accept: application&#x2F;json<br>Content-Type: application&#x2F;json<br>Content-Length: 24</p>
<p>{<br>  “name”: “Gir”,<br>  “animalType”: “12”<br>}</p>
<p>2.Content-Type: application&#x2F;x-www-form-urlencoded (浏览器POST表单用的格式)</p>
<p>POST &#x2F;login HTTP&#x2F;1.1<br>Host: example.com<br>Content-Length: 31<br>Accept: text&#x2F;html<br>Content-Type: application&#x2F;x-www-form-urlencoded</p>
<p>username&#x3D;root&amp;password&#x3D;Zion0101</p>
<p>Content-Type: multipart&#x2F;form-data; boundary&#x3D;—-RANDOM_jDMUxq4Ot5 (表单有文件上传时的格式)</p>
<p>Content Negotiation<br>资源可以有多种表示方式，如json、xml、pdf、excel等等，客户端可以指定自己期望的格式，通常有两种方式：</p>
<p>1.http header Accept：</p>
<p>Accept:application&#x2F;xml;q&#x3D;0.6,application&#x2F;atom+xml;q&#x3D;1.0</p>
<p>q为各项格式的偏好程度</p>
<p>2.url中加文件后缀：&#x2F;zoo&#x2F;1.json</p>
<ol start="6">
<li>Response<br>不要包装：<br>response 的 body 直接就是数据，不要做多余的包装。错误示例：</li>
</ol>
<p>​    </p>
<p>​      </p>
<p>​       </p>
<p>​      </p>
<p>​      </p>
<p>​       </p>
<pre><code class="hljs">    &#123;
</code></pre>
<p>​      </p>
<p>​      </p>
<p>​       </p>
<p>​      </p>
<p>​      </p>
<p>​<br>        “success”:<br>        true,</p>
<p>​      </p>
<p>​      </p>
<p>​       </p>
<p>​      </p>
<p>​      </p>
<p>​<br>        “data”:{<br>        “id”:<br>        1,<br>        “name”:<br>        “xiaotuan”},</p>
<p>​      </p>
<p>​      </p>
<p>​       </p>
<p>​      </p>
<p>​      </p>
<p>​       </p>
<pre><code class="hljs">    &#125;
</code></pre>
<p>​      </p>
<p>1<br>各HTTP方法成功处理后的数据格式：</p>
<p>·	response 格式<br>GET	单个对象、集合<br>POST	新增成功的对象<br>PUT&#x2F;PATCH	更新成功的对象<br>DELETE	空<br>json格式的约定：</p>
<p>时间用长整形(毫秒数)，客户端自己按需解析（moment.js）<br>不传null字段<br>分页response<br>{<br>    “paging”:{“limit”:10,”offset”:0,”total”:729},<br>    “data”:[{},{},{}…]<br>}<br>错误处理<br>不要发生了错误但给2xx响应，客户端可能会缓存成功的http请求；<br>正确设置http状态码，不要自定义；<br>Response body 提供 1) 错误的代码（日志&#x2F;问题追查）；2) 错误的描述文本（展示给用户）。<br>对第三点的实现稍微多说一点：</p>
<p>Java 服务器端一般用异常表示 RESTful API 的错误。API 可能抛出两类异常：业务异常和非业务异常。业务异常由自己的业务代码抛出，表示一个用例的前置条件不满足、业务规则冲突等，比如参数校验不通过、权限校验失败。非业务类异常表示不在预期内的问题，通常由类库、框架抛出，或由于自己的代码逻辑错误导致，比如数据库连接失败、空指针异常、除0错误等等。</p>
<p>业务类异常必须提供2种信息：</p>
<p>如果抛出该类异常，HTTP 响应状态码应该设成什么；<br>异常的文本描述；<br>在Controller层使用统一的异常拦截器：</p>
<p>设置 HTTP 响应状态码：对业务类异常，用它指定的 HTTP code；对非业务类异常，统一500；<br>Response Body 的错误码：异常类名<br>Response Body 的错误描述：对业务类异常，用它指定的错误文本；对非业务类异常，线上可以统一文案如“服务器端错误，请稍后再试”，开发或测试环境中用异常的 stacktrace，服务器端提供该行为的开关。<br>常用的http状态码及使用场景：</p>
<p>状态码	使用场景<br>400 bad request	常用在参数校验<br>401 unauthorized	未经验证的用户，常见于未登录。如果经过验证后依然没权限，应该 403（即 authentication 和 authorization 的区别）。<br>403 forbidden	无权限<br>404 not found	资源不存在<br>500 internal server error	非业务类异常<br>503 service unavaliable	由容器抛出，自己的代码不要抛这个异常<br>8. 服务型资源<br>除了资源简单的CRUD，服务器端经常还会提供其他服务，这些服务无法直接用上面提到的URI映射。如：</p>
<p>按关键字搜索；<br>1.计算地球上两点间的距离；<br>2.批量向用户推送消息<br>3.可以把这些服务看成资源，计算的结果是资源的presentation，按服务属性选择合适的HTTP方法。</p>
<p>例：</p>
<p>GET &#x2F;search?q&#x3D;filter?category&#x3D;file  搜索<br>GET &#x2F;distance-calc?lats&#x3D;47.480&amp;lngs&#x3D;-122.389&amp;late&#x3D;37.108&amp;lnge&#x3D;-122.448<br>POST &#x2F;batch-publish-msg<br>[{“from”:0,”to”:1,”text”:”abc”},{},{}…]</p>
<ol start="9">
<li>异步任务<br>对耗时的异步任务，服务器端接受客户端传递的参数后，应返回创建成功的任务资源，其中包含了任务的执行状态。客户端可以轮训该任务获得最新的执行进度。</li>
</ol>
<p>提交任务：<br>POST &#x2F;batch-publish-msg<br>[{“from”:0,”to”:1,”text”:”abc”},{},{}…]</p>
<p>返回：<br>{“taskId”:3,”createBy”:”Anonymous”,”status”:”running”}</p>
<p>GET &#x2F;task&#x2F;3<br>{“taskId”:3,”createBy”:”Anonymous”,”status”:”success”}</p>
<p>如果任务的执行状态包括较多信息，可以把“执行状态”抽象成组合资源，客户端查询该状态资源了解任务的执行情况。</p>
<p>提交任务：<br>POST &#x2F;batch-publish-msg<br>[{“from”:0,”to”:1,”text”:”abc”},{},{}…]</p>
<p>返回：<br>{“taskId”:3,”createBy”:”Anonymous”}</p>
<p>GET &#x2F;task&#x2F;3&#x2F;status<br>{“progress”:”50%”,”total”:18,”success”:8,”fail”:1}<br>API的演进<br>版本<br>常见的三种方式：</p>
<p>1.在uri中放版本信息：GET &#x2F;v1&#x2F;users&#x2F;1<br>2.Accept Header：Accept: application&#x2F;json+v1<br>3.自定义 Header：X-Api-Version: 1<br>用第一种，虽然没有那么优雅，但最明显最方便。</p>
<p>URI失效<br>随着系统发展，总有一些API失效或者迁移，对失效的API，返回404 not found 或 410 gone；对迁移的API，返回 301 重定向。</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>RESTful API接口设计标准及规范</div>
      <div>https://liyupin.github.io/2022/07/13/RESTful API接口设计标准及规范/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Cper Liu</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2022年7月13日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/07/13/VSCode%E9%85%8D%E7%BD%AE%E8%BF%9C%E7%A8%8BDocker%E8%BF%9B%E8%A1%8C%E6%9E%84%E5%BB%BApush%20%E9%98%BF%E9%87%8C%E4%BA%91docker%20hub/" title="Docker 开启远程访问">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Docker 开启远程访问</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/07/13/NGINX%E6%9C%8D%E5%8A%A1%E5%99%A8%E8%BD%AC%E5%8F%91%E9%85%8D%E7%BD%AE/" title="NGINX服务器转发配置">
                        <span class="hidden-mobile">NGINX服务器转发配置</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
